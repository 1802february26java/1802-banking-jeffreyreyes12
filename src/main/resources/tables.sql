
CREATE TABLE CUSTOMER (
  C_USERNAME VARCHAR2(100),
  C_PASSWORD VARCHAR2(100) NOT NULL,
  C_FIRSTNAME VARCHAR2(100) NOT NULL,
  C_STREET VARCHAR2(100) NOT NULL,
  C_CITY VARCHAR2(50) NOT NULL,
  C_STATE VARCHAR2(50) NOT NULL,
  C_ZIPCODE NUMBER NOT NULL,
  CONSTRAINT PK_CUSTOMER PRIMARY KEY (C_USERNAME)
);

ALTER TABLE CUSTOMER ADD (C_LASTNAME VARCHAR2(100) NOT NULL); 

CREATE TABLE ACCOUNT_TB (
  ACC_NUMBER VARCHAR2(10) NOT NULL,
  ACC_BALANCE NUMBER(10,2) NOT NULL,
  CONSTRAINT PK_ACCOUNT PRIMARY KEY (ACC_NUMBER)
);

/*Add C_USERNAME to ACCOUNT_TB and then add a foreign key constraint.*/
ALTER TABLE ACCOUNT_TB ADD (C_USERNAME VARCHAR2(100));
ALTER TABLE ACCOUNT_TB ADD CONSTRAINT FK_ACCOUNT_CUSTOMER
  FOREIGN KEY (C_USERNAME) REFERENCES CUSTOMER (C_USERNAME);
  
CREATE TABLE TRANSACTION_TB (
  T_TIMESTAMP TIMESTAMP,
  T_TYPE VARCHAR2(10),
  T_AMOUNT NUMBER(10, 2),
  CONSTRAINT PK_TRANSACTION PRIMARY KEY (T_TIMESTAMP),
  CONSTRAINT CHK_TYPE CHECK (T_TYPE IN ('deposit', 'withdraw'))
);

ALTER TABLE TRANSACTION_TB ADD (ACC_NUMBER VARCHAR2(10));
ALTER TABLE TRANSACTION_TB ADD CONSTRAINT FK_TRANSACTION_ACCOUNT
  FOREIGN KEY (ACC_NUMBER) REFERENCES ACCOUNT_TB (ACC_NUMBER);
  
CREATE TABLE TEST_TB (
  AMOUNT NUMBER(10, 3)
);